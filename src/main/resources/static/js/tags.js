// Generated by CoffeeScript 2.0.1
(function() {
  var exports;

  exports = this;

  exports.editcell = function(tagid) {
    var cellEmpty, content;
    cellEmpty = false;
    content = $('#tag' + tagid).html();
    console.log('Editing ' + tagid + ' with content=' + content);
    if (content === '') {
      $(function() {});
      $('.form-error-' + tagid).show();
      cellEmpty = true;
    } else {
      $(function() {});
      $('.form-error-' + tagid).hide();
      cellEmpty = false;
    }
    if (!cellEmpty) {
      window.location.assign('tags?edit=' + tagid + '&content=' + content);
    }
  };

  $(function() {
    $('#addnew').click(function() {
      $('#addnew').prop('disabled', true);
      $('#tagstable').append('' + '<tr><td>\n' + '<input id="name" name="name" type="text" placeholder="Enter tag name">\n' + '</td>\n' + '<td><input id="btn-new-tag" class="button" type="submit" value="OK"></td>\n' + '</tr>');
      return $('#tagstable').append('' + '<td><span id="new-tag-error" class="form-error">This field cannot be blank</span></td>');
    });
    return $('#tagstable').on('click', '#btn-new-tag', function() {
      var tagName;
      event.preventDefault();
      console.log("entered");
      tagName = $('#name').val();
      if (tagName === '') {
        return $('#new-tag-error').show();
      } else {
        $('#new-tag-error').hide();
        return $.post(window.location.pathname, {
          name: tagName
        }, function() {
          return window.location.reload();
        });
      }
    });
  });

}).call(this);

//# sourceMappingURL=tags.js.map
