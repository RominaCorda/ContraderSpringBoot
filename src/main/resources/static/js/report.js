// Generated by CoffeeScript 1.12.7
(function () {
    var exports, messages, messenger, say, timerMessage;

    exports = this;

    messages = ['Uploading parameters...', 'Loading Cognos API...', 'Computing report...', 'Report ready'];

    exports.doReport = function () {
        console.log('Doing report...');
        $('#loader').show();
        $('#downloader').hide();
        $('#message').text('Please wait...');
        messenger(messages);
    };

    say = function (msg) {
        console.log('Saying <' + msg + '>');
        $('#message').text(msg);
        if (msg === messages[messages.length - 1]) {
            console.log('Ready to download ');
            $('#loader').hide();
            $('#downloader').show();
        }
    };

    timerMessage = function (i, msg) {
        var delay, randomInterval;
        randomInterval = Math.floor(Math.random() * 4) + 1;
        delay = (i * 2000) + 1000 * randomInterval;
        setTimeout(say, delay, msg);
    };

    messenger = function (arrayOfMessages) {
        var i, j, len, message, results;
        results = [];
        for (i = j = 0, len = arrayOfMessages.length; j < len; i = ++j) {
            message = arrayOfMessages[i];
            results.push(timerMessage(i, message));
        }
        return results;
    };

}).call(this);

//# sourceMappingURL=report.js.map
